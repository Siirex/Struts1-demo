<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE struts-config PUBLIC 
"-//Apache Software Foundation//DTD Struts Configuration 1.3//EN" 
"http://jakarta.apache.org/struts/dtds/struts-config_1_3.dtd">

<struts-config>

	<form-beans>
		<form-bean name="userForm" type="Siirex.Model.UserForm" />
		<form-bean name="userFormNonValidate" type="Siirex.Model.UserFormNonValidate" />
	</form-beans>
	
	<action-mappings>
	
		<!-- Khi Action "/home.do" được call:
			> Phương thức homePage() được thực thi
			> Sau đấy sẽ forward đến "/pages/home.jsp" -->
		<action path="/home" type="Siirex.Controller.UserActions" 
				parameter="homePage" name="userFormNonValidate">
			<forward name="homePage" path="/pages/home.jsp"></forward>			
		</action>
		
		<!-- Khi Action "/register.do" được call:
			> Phương thức registerPage() được thực thi
			> Sau đấy sẽ forward đến "/pages/register.jsp"
			> Action này đơn giản chỉ có tác dụng đưa Client đến Form để nhập data đăng ký! -->
		<action path="/register" type="Siirex.Controller.UserActions" 
				parameter="registerPage" name="userForm"
				validate="true" input="/pages/register.jsp">
			<forward name="registerPage" path="/pages/register.jsp"></forward>			
		</action>
		
		<!-- Khi Action "/registerCheck.do" được call:
			> Phương thức registerPageCheck() được thực thi (INSERT data & export message kết quả)
			> Sau đấy sẽ forward đến "/pages/register.jsp" 
			> Action này sẽ thực hiện nhiệm vụ chính của việc register! -->
		<action path="/registerCheck" type="Siirex.Controller.UserActions" 
				parameter="registerCheckPage" name="userForm"
				validate="true" input="/pages/register.jsp">
			<forward name="registerCheckPage" path="/pages/register.jsp"></forward>			
		</action>
		
		<!-- Action "/getUser.do" sẽ được call khi Client click vào "Update":
			> Phương thức getUserPage() được thực thi
			> Sau đấy sẽ forward đến "/pages/getUser.jsp"
			> Action này có tác dụng lấy ra Form chứa đối tượng tiến hành Update/Edit -->
		<action path="/getUser" type="Siirex.Controller.UserActions" 
				parameter="getUserPage" name="userForm">
			<forward name="getUserPage" path="/pages/getUser.jsp"></forward>			
		</action>
		
		<!-- Khi nhập xong Update Form, Action "/updateUser.do" sẽ được call - để thực hiện việc UPDATE data vào DB -->
		<action path="/updateUser" type="Siirex.Controller.UserActions" 
				parameter="updateUserPage" name="userForm"  
				validate="true" input="/pages/updateCheckValidate.jsp">
			<forward name="updateUserPage" path="/pages/home.jsp"></forward>			
		</action>
		
		<!--  -->
		<action path="/deleteUser" type="Siirex.Controller.UserActions" 
				parameter="deleteUserPage" name="userFormNonValidate" >
			<forward name="deleteUserPage" path="/pages/home.jsp"></forward>			
		</action>
	
	</action-mappings>
	
	  <message-resources parameter="ApplicationResources" />

</struts-config>